{"version":3,"sources":["../../src/engine/instance-pool.js"],"names":["App","define","type","released","alocated","Set","config","length","set","instance","add","has","delete","push"],"mappings":";;;;;;AAAAA,IAAIC,MAAJ,CAAW;AAAA;AAEP,8BAAYC,IAAZ,EAAkB;AAAA;;AACd,iBAAKA,IAAL,GAAYA,IAAZ;AACA,iBAAKC,QAAL,GAAgB,EAAhB;AACA,iBAAKC,QAAL,GAAgB,IAAIC,GAAJ,EAAhB;AACH;;AANM;AAAA;AAAA,mCAQQ;AAAA,kDAARC,MAAQ;AAARA,0BAAQ;AAAA;;AACX,oBAAI,KAAKH,QAAL,CAAcI,MAAd,GAAuB,CAA3B,EAA8B;AAAA;;AAC1B,2BAAO,mBAAKJ,QAAL,CAAc,CAAd,GAAiBK,GAAjB,mBAAwBF,MAAxB,CAAP;AACH;;AAED,oBAAIG,8CAAe,KAAKP,IAApB,gBAA4BI,MAA5B,KAAJ;AACA,qBAAKF,QAAL,CAAcM,GAAd,CAAkBD,QAAlB;AACA,uBAAOA,QAAP;AACH;AAhBM;AAAA;AAAA,oCAkBCA,QAlBD,EAkBW;AACd,oBAAI,KAAKL,QAAL,CAAcO,GAAd,CAAkBF,QAAlB,CAAJ,EAAiC;AAC7B,yBAAKL,QAAL,CAAcQ,MAAd,CAAqBH,QAArB;AACA,yBAAKN,QAAL,CAAcU,IAAd,CAAmBJ,QAAnB;AACH;AACJ;AAvBM;;AAAA;AAAA;AAAA,CAAX","file":"instance-pool.js","sourcesContent":["App.define(() => class  InstancePool {\r\n\r\n    constructor(type) {\r\n        this.type = type;\r\n        this.released = [];\r\n        this.alocated = new Set();\r\n    }\r\n\r\n    new(...config) {\r\n        if (this.released.length > 0) {\r\n            return this.released[0].set(...config);\r\n        }\r\n\r\n        let instance = new this.type(...config);\r\n        this.alocated.add(instance);\r\n        return instance;\r\n    }\r\n\r\n    release(instance) {\r\n        if (this.alocated.has(instance)) {\r\n            this.alocated.delete(instance);\r\n            this.released.push(instance);\r\n        }\r\n    }\r\n\r\n});\r\n"]}